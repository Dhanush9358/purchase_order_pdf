<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Purchase Order</title>

  <style>
    body {
      font-family: Arial, Helvetica, sans-serif;
      font-size: 12px;
      margin: 20px;
      color: #000;
    }

    .container {
      width: 800px;
      margin: auto;
      border: 1px solid #000;
      padding: 10px;
    }

    .row {
      display: flex;
      justify-content: space-between;
    }

    .logo {
      width: 220px;
      height: 70px;
      display: flex;
      align-items: center;
    }

    .logo img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
    }

    .company-details {
      text-align: right;
      line-height: 1.4;
    }

    .company-name {
      font-size: 20px;
      font-weight: 800;
      letter-spacing: 1px;
    }

    h2 {
      text-align: center;
      margin: 10px 0;
      letter-spacing: 2px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 8px;
    }

    th, td {
      border: 1px solid #000;
      padding: 6px;
      vertical-align: top;
    }

    th {
      background: #f2f2f2;
      text-align: center;
    }

    .right { text-align: right; }
    .center { text-align: center; }

    .address-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      grid-template-rows: auto auto;
      border: 1px solid #000;
      margin-top: 10px;
    }

    .bill-from {
      grid-row: span 2;
      border-right: 1px solid #000;
      padding: 6px;
    }

    .bill-to {
      border-bottom: 1px solid #000;
      padding: 6px;
    }

    .ship-to {
      padding: 6px;
    }

    .address-title {
      font-weight: bold;
      text-align: center;
      border: 1px solid #000;
      padding: 4px 0;
      margin: -6px -6px 6px -6px;
      background: #fff;
    }

    .total-grid {
      display: grid;
      grid-template-columns: 2fr 1fr;
      border: 1px solid #000;
      margin-top: 10px;
    }

    .total-left {
      border-right: 1px solid #000;
      display: flex;
      flex-direction: column;
    }

    .total-box {
      border-bottom: 1px solid #000;
      padding: 6px;
      line-height: 1.6;
    }

    .total-box:last-child {
      border-bottom: none;
    }

    .total-right {
      display: flex;
      flex-direction: column;
    }

    .total-row {
      display: flex;
      justify-content: space-between;
      padding: 6px;
      border-bottom: 1px solid #000;
    }

    .grand-total {
      display: flex;
      justify-content: space-between;
      padding: 8px 6px;
      font-weight: bold;
      border-top: 2px solid #000;
      font-size: 14px;
    }

    .terms-signature-single {
      position: relative;
      border: 1px solid #000;
      margin-top: 10px;
      font-size: 11px;
      padding: 8px;
      min-height: 320px;
    }

    .terms-text {
      padding-right: 180px;
    }

    .terms-text ol {
      margin: 6px 0 0 18px;
      padding: 0;
    }

    .terms-text li {
      margin-bottom: 4px;
    }

    .terms-signature {
      position: absolute;
      bottom: 12px;
      right: 12px;
      text-align: center;
      width: 160px;
    }

    .terms-signature img {
      max-width: 130px;
      max-height: 90px;
      object-fit: contain;
      margin-bottom: 6px;
    }
  </style>
</head>
<body>

<div class="container">

  <!-- HEADER -->
  <div class="row">
    <div class="logo">
      <img src="logo.png">
    </div>
    <div class="company-details">
      <div class="company-name">OM COMMUNICATION</div>
      B-3 Neelam Park, Anand Bunglow,<br>
      Opp. Titanium City Center Satellite,<br>
      Ahmedabad - 380015<br>
      Mo: 9624800035 | PAN: APMPK2402F
    </div>
  </div>

  <h2>PURCHASE ORDER</h2>

  <!-- ORDER INFO -->
  <table>
    <tr>
      <td><strong>Delivery Date:</strong> {{ delivery_date }}</td>
      <td><strong>Order No:</strong> {{ order_no }}</td>
      <td><strong>Date:</strong> {{ date }}</td>
      <td><strong>Original</strong></td>
    </tr>
  </table>

  <!-- ADDRESSES -->
  <div class="address-grid">
    <div class="bill-from">
      <div class="address-title">Bill From</div>
      <strong>{{ bill_from.name }}</strong><br>
      {{ bill_from.address | replace('\n', '<br>') | safe }}<br>
      State : {{ bill_from.state }}<br>
      GSTIN : {{ bill_from.gstin }}
    </div>

    <div class="bill-to">
      <div class="address-title">Bill To</div>
      <strong>{{ bill_to.name }}</strong><br>
      {{ bill_to.address | replace('\n', '<br>') | safe }}<br>
      State : {{ bill_to.state }}
    </div>

    <div class="ship-to">
      <div class="address-title">Ship To</div>
      <strong>{{ ship_to.name }}</strong><br>
      {{ ship_to.address | replace('\n', '<br>') | safe }}<br>
      State : {{ ship_to.state }}
    </div>
  </div>

  <!-- ITEMS -->
  <table>
    <tr>
      <th>Sr</th>
      <th>Product</th>
      <th>HSN</th>
      <th>Qty</th>
      <th>Rate</th>
      <th>IGST %</th>
      <th>Amount</th>
    </tr>

    {% for item in items %}
    <tr>
      <td class="center">{{ loop.index }}</td>
      <td>{{ item.name }}</td>
      <td class="center">{{ item.hsn }}</td>
      <td class="center">{{ item.qty }}</td>
      <td class="right">{{ "%.2f"|format(item.rate) }}</td>
      <td class="center">{{ item.igst }}</td>
      <td class="right">{{ "%.2f"|format(item.amount) }}</td>
    </tr>
    {% endfor %}
  </table>

  <!-- TOTALS -->
  <div class="total-grid">
    <div class="total-left">
      <div class="total-box"><strong>Total GST :</strong> {{ gst_words }}</div>
      <div class="total-box"><strong>Bill Amount :</strong> {{ total_words }}</div>
      <div class="total-box"><strong>Note :</strong></div>
    </div>

    <div class="total-right">
      <div class="total-row"><span>Total Qty</span><span>{{ totals.total_qty }}</span></div>
      <div class="total-row"><span>Sub Total</span><span>{{ "%.2f"|format(totals.sub_total) }}</span></div>
      <div class="total-row"><span>IGST</span><span>{{ "%.2f"|format(totals.total_gst) }}</span></div>
      <div class="grand-total"><span>Grand Total</span><span>{{ "%.2f"|format(totals.grand_total) }}</span></div>
    </div>
  </div>
  
  <div class="terms-signature-single">

    <!-- LEFT : TERMS -->
    <div class="terms-text">
      <strong>Terms & Conditions :</strong>
      <ol>
        <li>Our GSTIN 24APMPK2402F1ZC & purchase order no. should be mentioned in your tax invoice.</li>
        <li>The stock to be supplied by supplier should be original equipment Manufacture & in master carton.</li>
        <li>OM COMMUNICATION is entitled to unilaterally reject the goods should the supplier fail to comply with any terms of this purchase order.</li>
        <li>OM COMMUNICATION requires a list of all IMEI numbers or such similar serial numbers as may be applicable to the goods.</li>
        <li>Unless otherwise specified in the PURCHASE ORDER the price for the goods includes all taxes suppliers will breakout from the price all such taxes and other charges in its invoice.</li>
        <li>The supplier agrees and acknowledges the refund of the deposit forming part of the transaction in case of default.</li>
        <li>After inspection and full payment of advance the title of the goods vests to OM COMMUNICATION.</li>
        <li>This purchase order is only binding upon OM COMMUNICATION.</li>
        <li>The supplier further agrees that in case it defaults on GST compliance, OM COMMUNICATION reserves the right to recover losses.</li>
        <li>Original tax invoice must be marked “Original for recipient”.</li>
        <li>Any excess tax paid shall be recovered from supplier within 7 days.</li>
        <li>Goods supplied must be NON-ACTIVATED original branded sealed packs.</li>
        <li>Failure to comply allows OM COMMUNICATION to recover penalties.</li>
        <li>OM COMMUNICATION reserves the right to recover all statutory liabilities.</li>
      </ol>

      <div class="terms-footer">
        Our company is liable to deduct TDS u/s 194 of income tax @ 1% of the sale consideration.  
        Company PAN : APMPK2402F
      </div>
    </div>

    <!-- RIGHT : SIGNATURE -->
    <div class="terms-signature">
      <img src="signature.png" alt="Authorized Signature">
      <div>
        <strong>For OM COMMUNICATION</strong><br>
        Authorized Signatory
      </div>
    </div>

  </div>



</div>

</body>
</html>